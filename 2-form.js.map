{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import Toastify from 'toastify-js';\nimport 'toastify-js/src/toastify.css';\n\nconst toastifyOptions = {\n  text: 'Fill please all fields!',\n  duration: 3000,\n  close: true,\n  gravity: 'top',\n  position: 'right',\n  backgroundColor: 'linear-gradient(to right, #ff5f6d,rgb(255, 149, 0))',\n};\n\nconst localStorageKey = 'feedback-form-state';\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst saveToLocalStorage = (localStorageKey, data) => {\n  try {\n    localStorage.setItem(localStorageKey, JSON.stringify(data));\n  } catch (error) {\n    console.log('ðŸš€ ~ error:', error.message);\n  }\n};\n\nconst fetchFromLocalStorage = localStorageKey => {\n  try {\n    const data = localStorage.getItem(localStorageKey);\n    return data ? JSON.parse(data) : null;\n  } catch (error) {\n    console.log('ðŸš€ ~ error:', error.message);\n    return null;\n  }\n};\n\nconst populateFormFromLocalStorage = localStorageKey => {\n  const localStorageData = fetchFromLocalStorage(localStorageKey);\n  if (!localStorageData) return;\n\n  Object.keys(localStorageData).forEach(key => {\n    formData[key] = localStorageData[key];\n    refs.form.elements[key].value = localStorageData[key];\n  });\n};\n\nconst onInput = evt => {\n  formData[evt.target.name] = evt.target.value.trim();\n  saveToLocalStorage(localStorageKey, formData);\n};\n\nconst onSubmit = evt => {\n  evt.preventDefault();\n\n  const formElements = evt.target.elements;\n  const isEmpty = Array.from(formElements)\n    .filter(el => el.tagName === 'INPUT' || el.tagName === 'TEXTAREA')\n    .some(el => !el.value.trim());\n\n  if (isEmpty) {\n    Toastify(toastifyOptions).showToast();\n    return;\n  }\n\n  console.log('ðŸš€ Form submitted:', formData);\n  Object.keys(formData).forEach(key => (formData[key] = ''));\n\n  localStorage.removeItem(localStorageKey);\n  evt.target.reset();\n};\n\nrefs.form.addEventListener('input', onInput);\nrefs.form.addEventListener('submit', onSubmit);\n\npopulateFormFromLocalStorage(localStorageKey);\n"],"names":["toastifyOptions","localStorageKey","formData","refs","saveToLocalStorage","data","error","fetchFromLocalStorage","populateFormFromLocalStorage","localStorageData","key","onInput","evt","onSubmit","formElements","el","Toastify"],"mappings":"oFAGA,MAAMA,EAAkB,CACtB,KAAM,0BACN,SAAU,IACV,MAAO,GACP,QAAS,MACT,SAAU,QACV,gBAAiB,qDACnB,EAEMC,EAAkB,sBAElBC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEMC,EAAqB,CAACH,EAAiBI,IAAS,CACpD,GAAI,CACF,aAAa,QAAQJ,EAAiB,KAAK,UAAUI,CAAI,CAAC,CAC3D,OAAQC,EAAO,CACd,QAAQ,IAAI,cAAeA,EAAM,OAAO,CACzC,CACH,EAEMC,EAAwBN,GAAmB,CAC/C,GAAI,CACF,MAAMI,EAAO,aAAa,QAAQJ,CAAe,EACjD,OAAOI,EAAO,KAAK,MAAMA,CAAI,EAAI,IAClC,OAAQC,EAAO,CACd,eAAQ,IAAI,cAAeA,EAAM,OAAO,EACjC,IACR,CACH,EAEME,EAA+BP,GAAmB,CACtD,MAAMQ,EAAmBF,EAAsBN,CAAe,EACzDQ,GAEL,OAAO,KAAKA,CAAgB,EAAE,QAAQC,GAAO,CAC3CR,EAASQ,CAAG,EAAID,EAAiBC,CAAG,EACpCP,EAAK,KAAK,SAASO,CAAG,EAAE,MAAQD,EAAiBC,CAAG,CACxD,CAAG,CACH,EAEMC,EAAUC,GAAO,CACrBV,EAASU,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MAAM,OAC7CR,EAAmBH,EAAiBC,CAAQ,CAC9C,EAEMW,EAAWD,GAAO,CACtBA,EAAI,eAAc,EAElB,MAAME,EAAeF,EAAI,OAAO,SAKhC,GAJgB,MAAM,KAAKE,CAAY,EACpC,OAAOC,GAAMA,EAAG,UAAY,SAAWA,EAAG,UAAY,UAAU,EAChE,KAAKA,GAAM,CAACA,EAAG,MAAM,KAAM,CAAA,EAEjB,CACXC,EAAShB,CAAe,EAAE,YAC1B,MACD,CAED,QAAQ,IAAI,qBAAsBE,CAAQ,EAC1C,OAAO,KAAKA,CAAQ,EAAE,QAAQQ,GAAQR,EAASQ,CAAG,EAAI,EAAG,EAEzD,aAAa,WAAWT,CAAe,EACvCW,EAAI,OAAO,OACb,EAEAT,EAAK,KAAK,iBAAiB,QAASQ,CAAO,EAC3CR,EAAK,KAAK,iBAAiB,SAAUU,CAAQ,EAE7CL,EAA6BP,CAAe"}